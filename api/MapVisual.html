<h1 id="Game-map-visual"><a href="#Game-map-visual" class="headerlink" title="Game.map.visual"></a>Game.map.visual</h1><p>åœ°å›¾å¯è§†åŒ–ï¼ˆMap visualï¼‰æä¾›äº†ä¸€ç§é€”å¾„æ¥åœ¨æ¸¸æˆåœ°å›¾ä¸Šæ˜¾ç¤ºå„ç§å¯è§†åŒ–çš„è°ƒè¯•ä¿¡æ¯ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ <code>Game.map.visual</code> å¯¹è±¡æ¥ç»˜åˆ¶ä¸€äº›ä»…å¯¹æ‚¨å¯è§çš„ç®€å•å›¾å½¢ã€‚</p>
<p>åœ°å›¾å¯è§†åŒ–ä¸ä¼šè¢«å­˜å‚¨åœ¨æ¸¸æˆæ•°æ®åº“ä¸­ï¼Œå®ƒä»¬å”¯ä¸€çš„ä½œç”¨å°±æ˜¯åœ¨æ‚¨çš„æµè§ˆå™¨ä¸Šæ˜¾ç¤ºä¸€äº›ä¿¡æ¯ã€‚æ‰€æœ‰çš„ç»˜åˆ¶æ•ˆæœåªä¼šè¢«ä¿ç•™ä¸€ä¸ª tickï¼Œå¹¶ä¸”å¦‚æœä¸‹ä¸ª tick æ²¡æœ‰æ›´æ–°çš„è¯å®ƒä»¬å°±ä¼šæ¶ˆå¤±ã€‚æ‰€æœ‰çš„ <code>Game.map.visual</code> è°ƒç”¨éƒ½ä¸ä¼šäº§ç”Ÿ CPU æ¶ˆè€—ï¼ˆåªä¼šäº§ç”Ÿä¸€äº›ä»£ç æ‰§è¡Œçš„è‡ªç„¶æˆæœ¬ï¼Œå¹¶ä¸”å¤§å¤šä¸ç®€å•çš„ <code>JSON.serialize</code> è°ƒç”¨æœ‰å…³ï¼‰ã€‚ç„¶è€Œï¼Œè¿™é‡Œæœ‰ä¸€æ¡ä½¿ç”¨é™åˆ¶ï¼šæ‚¨æœ€å¤šåªèƒ½ä¸ºæ¯ä¸ªæˆ¿é—´å‘å¸ƒ 1000 KB çš„åºåˆ—åŒ–æ•°æ®ã€‚</p>
<p>æ‰€æœ‰ç»˜åˆ¶åæ ‡å‡ç­‰åŒäºå…¨å±€æ¸¸æˆåæ ‡ (<a href="#RoomPosition"><code>RoomPosition</code></a>)ã€‚</p>
<h2 id="Game.map-visual.line" class="api-property api-property--method  "><span class="api-property__name">line</span><span class="api-property__args">(pos1, pos2, [style])</span>
        <div class="api-property__cpu api-property__cpu--0" title="è¯¥æ–¹æ³•çš„CPUå¼€é”€å¾ˆå°ã€‚"></div>
        </h2>
<pre class="highlight javascript tab-javascript "><code>Game<span class="token punctuation">.</span>map<span class="token punctuation">.</span>visual<span class="token punctuation">.</span><span class="token function">line</span><span class="token punctuation">(</span>creep<span class="token punctuation">.</span>pos<span class="token punctuation">,</span> target<span class="token punctuation">.</span>pos<span class="token punctuation">,</span>
    <span class="token punctuation">{</span>color<span class="token punctuation">:</span> <span class="token string">'#ff0000'</span><span class="token punctuation">,</span> lineStyle<span class="token punctuation">:</span> <span class="token string">'dashed'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>ç»˜åˆ¶ä¸€æ¡çº¿ã€‚</p>
<table><thead><tr><th>parameter</th><th>type</th><th>description</th></tr></thead><tbody>
<tr><td><code>pos1</code></td><td><a href="#RoomPosition">RoomPosition</a></td><td><p>èµ·å§‹ç‚¹ä½ç½®å¯¹è±¡ã€‚</p>
</td>
</tr><tr><td><code>pos2</code></td><td><a href="#RoomPosition">RoomPosition</a></td><td><p>ç»“æŸç‚¹ä½ç½®å¯¹è±¡ã€‚</p>
</td>
</tr><tr><td><code>style (å¯é€‰)</code></td><td>object</td><td><p>åŒ…å«ä¸‹åˆ—å±æ€§çš„å¯¹è±¡ï¼š</p>
<ul>
    <li>
        <div class="api-arg-title">width</div>
        <div class="api-arg-type">number</div>
        <div class="api-arg-desc">çº¿æ¡çš„å®½åº¦ï¼Œé»˜è®¤å€¼ä¸º 0.1ã€‚</div>
    </li>
    <li>
        <div class="api-arg-title">color</div>
        <div class="api-arg-type">string</div>
        <div class="api-arg-desc">çº¿æ¡é¢œè‰²ï¼Œä½¿ç”¨ä»¥ä¸‹æ ¼å¼ï¼š<code>#ffffff</code>ï¼ˆåå…­è¿›åˆ¶é¢œè‰²ï¼‰ï¼Œé»˜è®¤ä¸º <code>#ffffff<code>ã€‚</code></code></div>
    </li>
    <li>
        <div class="api-arg-title">opacity</div>
        <div class="api-arg-type">number</div>
        <div class="api-arg-desc">é€æ˜åº¦ï¼Œé»˜è®¤å€¼ä¸º 0.5ã€‚</div>
    </li>
    <li>
        <div class="api-arg-title">lineStyle</div>
        <div class="api-arg-type">string</div>
        <div class="api-arg-desc"><code>undefined</code> (å®çº¿)ï¼Œ<code>dashed</code> (è™šçº¿) æˆ–è€… <code>dotted</code> (ç‚¹çº¿) ä¹‹ä¸€ã€‚é»˜è®¤å€¼ä¸º undefinedã€‚</div>
    </li>
</ul></td>
</tr></tbody></table>

<h3 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a>è¿”å›å€¼</h3><p><code>MapVisual</code> å¯¹è±¡æœ¬èº«ï¼Œä»¥ä¾¿è¿›è¡Œé“¾å¼è°ƒç”¨ã€‚</p>
<h2 id="Game.map-visual.circle" class="api-property api-property--method  "><span class="api-property__name">circle</span><span class="api-property__args">(pos, [style])</span>
        <div class="api-property__cpu api-property__cpu--0" title="è¯¥æ–¹æ³•çš„CPUå¼€é”€å¾ˆå°ã€‚"></div>
        </h2>
<pre class="highlight javascript tab-javascript "><code>Game<span class="token punctuation">.</span>map<span class="token punctuation">.</span>visual<span class="token punctuation">.</span><span class="token function">circle</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">RoomPosition</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token string">'E2S7'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class="highlight javascript tab-javascript "><code>Game<span class="token punctuation">.</span>map<span class="token punctuation">.</span>visual<span class="token punctuation">.</span><span class="token function">circle</span><span class="token punctuation">(</span>nuker<span class="token punctuation">.</span>pos<span class="token punctuation">,</span> <span class="token punctuation">{</span>fill<span class="token punctuation">:</span> <span class="token string">'transparent'</span><span class="token punctuation">,</span> radius<span class="token punctuation">:</span> <span class="token constant">NUKE_RANGE</span><span class="token operator">*</span><span class="token number">50</span><span class="token punctuation">,</span> stroke<span class="token punctuation">:</span> <span class="token string">'#ff0000'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>ç»˜åˆ¶ä¸€ä¸ªåœ†ã€‚</p>
<table><thead><tr><th>parameter</th><th>type</th><th>description</th></tr></thead><tbody>
<tr><td><code>pos</code></td><td><a href="#RoomPosition">RoomPosition</a></td><td><p>ä¸­å¿ƒç‚¹ä½ç½®å¯¹è±¡ã€‚</p>
</td>
</tr><tr><td><code>style (å¯é€‰)</code></td><td>object</td><td><p>åŒ…å«ä¸‹åˆ—å±æ€§çš„å¯¹è±¡ï¼š</p>
<ul>
    <li>
        <div class="api-arg-title">radius</div>
        <div class="api-arg-type">number</div>
        <div class="api-arg-desc">åœ†çš„åŠå¾„ï¼Œé»˜è®¤å€¼ä¸º 10ã€‚</div>
    </li>
    <li>
        <div class="api-arg-title">fill</div>
        <div class="api-arg-type">string</div>
        <div class="api-arg-desc">çº¿æ¡é¢œè‰²ï¼Œä½¿ç”¨ä»¥ä¸‹æ ¼å¼ï¼š<code>#ffffff</code>ï¼ˆåå…­è¿›åˆ¶é¢œè‰²ï¼‰ï¼Œé»˜è®¤ä¸º <code>#ffffff<code>ã€‚</code></code></div>
    </li>
    <li>
        <div class="api-arg-title">opacity</div>
        <div class="api-arg-type">number</div>
        <div class="api-arg-desc">é€æ˜åº¦ï¼Œé»˜è®¤å€¼ä¸º 0.5ã€‚</div>
    </li>
    <li>
        <div class="api-arg-title">stroke</div>
        <div class="api-arg-type">string</div>
        <div class="api-arg-desc">è½®å»“é¢œè‰²ï¼Œä½¿ç”¨ä»¥ä¸‹æ ¼å¼ï¼š<code>#ffffff</code>ï¼ˆåå…­è¿›åˆ¶é¢œè‰²ï¼‰ï¼Œé»˜è®¤ä¸º undefinedï¼ˆæ— è½®å»“ï¼‰ã€‚</div>
    </li>
    <li>
        <div class="api-arg-title">strokeWidth</div>
        <div class="api-arg-type">number</div>
        <div class="api-arg-desc">è½®å»“å®½åº¦ï¼Œé»˜è®¤å€¼ä¸º 0.5ã€‚</div>
    </li>
    <li>
        <div class="api-arg-title">lineStyle</div>
        <div class="api-arg-type">string</div>
        <div class="api-arg-desc"><code>undefined</code> (å®çº¿)ï¼Œ<code>dashed</code> (è™šçº¿) æˆ–è€… <code>dotted</code> (ç‚¹çº¿) ä¹‹ä¸€ã€‚é»˜è®¤å€¼ä¸º undefinedã€‚</div>
    </li>
</ul></td>
</tr></tbody></table>

<h3 id="è¿”å›å€¼-1"><a href="#è¿”å›å€¼-1" class="headerlink" title="è¿”å›å€¼"></a>è¿”å›å€¼</h3><p><code>MapVisual</code> å¯¹è±¡æœ¬èº«ï¼Œä»¥ä¾¿è¿›è¡Œé“¾å¼è°ƒç”¨ã€‚</p>
<h2 id="Game.map-visual.rect" class="api-property api-property--method  "><span class="api-property__name">rect</span><span class="api-property__args">(topLeftPos, width, height, [style])</span>
        <div class="api-property__cpu api-property__cpu--0" title="è¯¥æ–¹æ³•çš„CPUå¼€é”€å¾ˆå°ã€‚"></div>
        </h2>
<pre class="highlight javascript tab-javascript "><code><span class="token comment">// tower çš„æœ€ä½³æ•ˆæœåŒºåŸŸ</span>
Game<span class="token punctuation">.</span>map<span class="token punctuation">.</span>visual<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">RoomPosition</span><span class="token punctuation">(</span>tower<span class="token punctuation">.</span>pos<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">5</span><span class="token punctuation">,</span> tower<span class="token punctuation">.</span>pos<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token number">5</span><span class="token punctuation">,</span> tower<span class="token punctuation">.</span>pos<span class="token punctuation">.</span>roomName<span class="token punctuation">)</span><span class="token punctuation">,</span> 
    <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>fill<span class="token punctuation">:</span> <span class="token string">'transparent'</span><span class="token punctuation">,</span> stroke<span class="token punctuation">:</span> <span class="token string">'#ff0000'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>ç»˜åˆ¶ä¸€ä¸ªçŸ©å½¢ã€‚</p>
<table><thead><tr><th>parameter</th><th>type</th><th>description</th></tr></thead><tbody>
<tr><td><code>topLeftPos</code></td><td><a href="#RoomPosition">RoomPosition</a></td><td><p>å·¦ä¸Šè§’çš„ä½ç½®å¯¹è±¡ã€‚</p>
</td>
</tr><tr><td><code>width</code></td><td>number</td><td><p>çŸ©å½¢çš„å®½ã€‚</p>
</td>
</tr><tr><td><code>height</code></td><td>number</td><td><p>çŸ©å½¢çš„é«˜ã€‚</p>
</td>
</tr><tr><td><code>style (å¯é€‰)</code></td><td>object</td><td><p>åŒ…å«ä¸‹åˆ—å±æ€§çš„å¯¹è±¡ï¼š</p>
<ul>
    <li>
        <div class="api-arg-title">fill</div>
        <div class="api-arg-type">string</div>
        <div class="api-arg-desc">çº¿æ¡é¢œè‰²ï¼Œä½¿ç”¨ä»¥ä¸‹æ ¼å¼ï¼š<code>#ffffff</code>ï¼ˆåå…­è¿›åˆ¶é¢œè‰²ï¼‰ï¼Œé»˜è®¤ä¸º <code>#ffffff<code>ã€‚</code></code></div>
    </li>
    <li>
        <div class="api-arg-title">opacity</div>
        <div class="api-arg-type">number</div>
        <div class="api-arg-desc">é€æ˜åº¦ï¼Œé»˜è®¤å€¼ä¸º 0.5ã€‚</div>
    </li>
    <li>
        <div class="api-arg-title">stroke</div>
        <div class="api-arg-type">string</div>
        <div class="api-arg-desc">è½®å»“é¢œè‰²ï¼Œä½¿ç”¨ä»¥ä¸‹æ ¼å¼ï¼š<code>#ffffff</code>ï¼ˆåå…­è¿›åˆ¶é¢œè‰²ï¼‰ï¼Œé»˜è®¤ä¸º undefinedï¼ˆæ— è½®å»“ï¼‰ã€‚</div>
    </li>
    <li>
        <div class="api-arg-title">strokeWidth</div>
        <div class="api-arg-type">number</div>
        <div class="api-arg-desc">è½®å»“å®½åº¦ï¼Œé»˜è®¤å€¼ä¸º 0.5ã€‚</div>
    </li>
    <li>
        <div class="api-arg-title">lineStyle</div>
        <div class="api-arg-type">string</div>
        <div class="api-arg-desc"><code>undefined</code> (å®çº¿)ï¼Œ<code>dashed</code> (è™šçº¿) æˆ–è€… <code>dotted</code> (ç‚¹çº¿) ä¹‹ä¸€ã€‚é»˜è®¤å€¼ä¸º undefinedã€‚</div>
    </li>
</ul></td>
</tr></tbody></table>

<h3 id="è¿”å›å€¼-2"><a href="#è¿”å›å€¼-2" class="headerlink" title="è¿”å›å€¼"></a>è¿”å›å€¼</h3><p><code>MapVisual</code> å¯¹è±¡æœ¬èº«ï¼Œä»¥ä¾¿è¿›è¡Œé“¾å¼è°ƒç”¨ã€‚</p>
<h2 id="Game.map-visual.poly" class="api-property api-property--method  "><span class="api-property__name">poly</span><span class="api-property__args">(points, [style])</span>
        <div class="api-property__cpu api-property__cpu--0" title="è¯¥æ–¹æ³•çš„CPUå¼€é”€å¾ˆå°ã€‚"></div>
        </h2>
<pre class="highlight javascript tab-javascript "><code><span class="token keyword">const</span> points <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
points<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>creep1<span class="token punctuation">.</span>pos<span class="token punctuation">)</span><span class="token punctuation">;</span>
points<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>Game<span class="token punctuation">.</span>rooms<span class="token punctuation">.</span><span class="token constant">E2S7</span><span class="token punctuation">.</span>storage<span class="token punctuation">.</span>pos<span class="token punctuation">)</span><span class="token punctuation">;</span>
points<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">RoomPosition</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token string">'W1N1'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Game<span class="token punctuation">.</span>map<span class="token punctuation">.</span>visual<span class="token punctuation">.</span><span class="token function">poly</span><span class="token punctuation">(</span>points<span class="token punctuation">,</span> <span class="token punctuation">{</span>fill<span class="token punctuation">:</span> <span class="token string">'aqua'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </code></pre><pre class="highlight javascript tab-javascript "><code><span class="token comment">// å°†è·¯å¾„å¯è§†åŒ–</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> PathFinder<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>creep<span class="token punctuation">.</span>pos<span class="token punctuation">,</span> creep<span class="token punctuation">.</span>room<span class="token punctuation">.</span>storage<span class="token punctuation">.</span>pos<span class="token punctuation">)</span><span class="token punctuation">.</span>path<span class="token punctuation">;</span>
Game<span class="token punctuation">.</span>map<span class="token punctuation">.</span>visual<span class="token punctuation">.</span><span class="token function">poly</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> <span class="token punctuation">{</span>stroke<span class="token punctuation">:</span> <span class="token string">'#ffffff'</span><span class="token punctuation">,</span> strokeWidth<span class="token punctuation">:</span> <span class="token number">.8</span><span class="token punctuation">,</span> opacity<span class="token punctuation">:</span> <span class="token number">.2</span><span class="token punctuation">,</span> lineStyle<span class="token punctuation">:</span> <span class="token string">'dashed'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>ç»˜åˆ¶ä¸€æ®µæŠ˜çº¿.</p>
<table><thead><tr><th>parameter</th><th>type</th><th>description</th></tr></thead><tbody>
<tr><td><code>points</code></td><td>array</td><td><p>åŒ…å«äº†æ‰€æœ‰æ‹ç‚¹çš„æ•°ç»„ã€‚æ¯ä¸ªæ•°ç»„å…ƒç´ éƒ½åº”æ˜¯ä¸€ä¸ª <a href="#RoomPosition"><code>RoomPosition</code></a> å¯¹è±¡ã€‚</p>
</td>
</tr><tr><td><code>style (å¯é€‰)</code></td><td>object</td><td><p>åŒ…å«ä¸‹åˆ—å±æ€§çš„å¯¹è±¡ï¼š
                    <ul>
                        <li>
                            <div class="api-arg-title">fill</div>
                            <div class="api-arg-type">string</div>
                            <div class="api-arg-desc">å¡«å……é¢œè‰²ï¼Œä½¿ç”¨ä»¥ä¸‹æ ¼å¼ï¼š<code>#ffffff</code>ï¼ˆåå…­è¿›åˆ¶é¢œè‰²ï¼‰ï¼Œé»˜è®¤ä¸º <code>undefined</code>ï¼ˆæ— å¡«å……ï¼‰ã€‚</div>
                        </li>
                        <li>
                            <div class="api-arg-title">opacity</div>
                            <div class="api-arg-type">number</div>
                            <div class="api-arg-desc">é€æ˜åº¦ï¼Œé»˜è®¤å€¼ä¸º 0.5ã€‚</div>
                        </li>
                        <li>
                            <div class="api-arg-title">stroke</div>
                            <div class="api-arg-type">string</div>
                            <div class="api-arg-desc">è½®å»“é¢œè‰²ï¼Œä½¿ç”¨ä»¥ä¸‹æ ¼å¼ï¼š<code>#ffffff</code>ï¼ˆåå…­è¿›åˆ¶é¢œè‰²ï¼‰ï¼Œé»˜è®¤ä¸º <code>#ffffff</code>ã€‚</div>
                        </li>
                        <li>
                            <div class="api-arg-title">strokeWidth</div>
                            <div class="api-arg-type">number</div>
                            <div class="api-arg-desc">è½®å»“å®½åº¦ï¼Œé»˜è®¤å€¼ä¸º 0.5ã€‚</div>
                        </li>
                        <li>
                            <div class="api-arg-title">lineStyle</div>
                            <div class="api-arg-type">string</div>
                            <div class="api-arg-desc"><code>undefined</code> (å®çº¿)ï¼Œ<code>dashed</code> (è™šçº¿) æˆ–è€… <code>dotted</code> (ç‚¹çº¿) ä¹‹ä¸€ã€‚é»˜è®¤å€¼ä¸º undefinedã€‚</div>
                        </li>
                    </ul></p>
</td>
</tr></tbody></table>

<h3 id="è¿”å›å€¼-3"><a href="#è¿”å›å€¼-3" class="headerlink" title="è¿”å›å€¼"></a>è¿”å›å€¼</h3><p><code>MapVisual</code> å¯¹è±¡æœ¬èº«ï¼Œä»¥ä¾¿è¿›è¡Œé“¾å¼è°ƒç”¨ã€‚</p>
<h2 id="Game.map-visual.text" class="api-property api-property--method  "><span class="api-property__name">text</span><span class="api-property__args">(text, pos, [style])</span>
        <div class="api-property__cpu api-property__cpu--0" title="è¯¥æ–¹æ³•çš„CPUå¼€é”€å¾ˆå°ã€‚"></div>
        </h2>
<pre class="highlight javascript tab-javascript "><code>Game<span class="token punctuation">.</span>map<span class="token punctuation">.</span>visual<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">"TargetğŸ’¥"</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">RoomPosition</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token string">'E2S7'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>color<span class="token punctuation">:</span> <span class="token string">'#FF0000'</span><span class="token punctuation">,</span> fontSize<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </code></pre><p>ç»˜åˆ¶ä¸€ä¸ªæ–‡æœ¬æ ‡ç­¾ã€‚ä½ å¯ä»¥ä½¿ç”¨ä»»ä½•æœ‰æ•ˆçš„ Unicode å­—ç¬¦ï¼ŒåŒ…æ‹¬ <a href="http://unicode.org/emoji/charts/emoji-style.txt" target="_blank">emoji</a>ã€‚</p>
<table><thead><tr><th>parameter</th><th>type</th><th>description</th></tr></thead><tbody>
<tr><td><code>text</code></td><td>string</td><td><p>æ–‡æœ¬ä¿¡æ¯</p>
</td>
</tr><tr><td><code>pos</code></td><td><a href="#RoomPosition">RoomPosition</a></td><td><p>æ–‡æœ¬åŸºçº¿ï¼ˆbaselineï¼‰èµ·å§‹ç‚¹çš„ä½ç½®å¯¹è±¡ã€‚</p>
</td>
</tr><tr><td><code>style (å¯é€‰)</code></td><td>object</td><td><p>åŒ…å«ä¸‹åˆ—å±æ€§çš„å¯¹è±¡ï¼š
                    <ul>
                        <li>
                            <div class="api-arg-title">color</div>
                            <div class="api-arg-type">string</div>
                            <div class="api-arg-desc">æ–‡æœ¬é¢œè‰²ï¼Œä½¿ç”¨ä»¥ä¸‹æ ¼å¼ï¼š<code>#ffffff</code>ï¼ˆåå…­è¿›åˆ¶é¢œè‰²ï¼‰ï¼Œé»˜è®¤ä¸º <code>#ffffff</code>ã€‚</div>
                        </li>
                        <li>
                            <div class="api-arg-title">fontFamily</div>
                            <div class="api-arg-type">string</div>
                            <div class="api-arg-desc">æ–‡æœ¬å­—ä½“ï¼Œé»˜è®¤ä¸º <code>sans-serif</code></div>
                        </li>
                        <li>
                            <div class="api-arg-title">fontSize</div>
                            <div class="api-arg-type">number</div>
                            <div class="api-arg-desc">å­—ä½“å¤§å°ï¼ŒåŸºäºæ¸¸æˆåæ ‡ï¼Œé»˜è®¤ä¸º 10</div>
                        </li>
                        <li>
                            <div class="api-arg-title">fontStyle</div>
                            <div class="api-arg-type">string</div>
                            <div class="api-arg-desc">å­—ä½“é£æ ¼ï¼ˆ&#39;normal&#39;, &#39;italic&#39; æˆ–è€… &#39;oblique&#39;ï¼‰</div>
                        </li>
                        <li>
                            <div class="api-arg-title">fontVariant</div>
                            <div class="api-arg-type">string</div>
                            <div class="api-arg-desc">å­—ä½“å˜ç§ï¼ˆ&#39;normal&#39; æˆ–è€… &#39;small-caps&#39;ï¼‰</div>
                        </li>
                        <li>
                            <div class="api-arg-title">stroke</div>
                            <div class="api-arg-type">string</div>
                            <div class="api-arg-desc">è½®å»“é¢œè‰²ï¼Œä½¿ç”¨ä»¥ä¸‹æ ¼å¼ï¼š<code>#ffffff</code>ï¼ˆåå…­è¿›åˆ¶é¢œè‰²ï¼‰ï¼Œé»˜è®¤ä¸º undefinedï¼ˆæ— è½®å»“ï¼‰ã€‚</div>
                        </li>
                        <li>
                            <div class="api-arg-title">strokeWidth</div>
                            <div class="api-arg-type">number</div>
                            <div class="api-arg-desc">è½®å»“å®½å¸¦ï¼Œé»˜è®¤ä¸º 0.15ã€‚</div>
                        </li>
                        <li>
                            <div class="api-arg-title">backgroundColor</div>
                            <div class="api-arg-type">string</div>
                            <div class="api-arg-desc">èƒŒæ™¯é¢œè‰²ï¼Œä½¿ç”¨ä»¥ä¸‹æ ¼å¼ï¼š<code>#ffffff</code>ï¼ˆåå…­è¿›åˆ¶é¢œè‰²ï¼‰ï¼Œé»˜è®¤ä¸º undefinedï¼ˆæ— èƒŒæ™¯è‰²ï¼‰ã€‚å½“å¯ç”¨èƒŒæ™¯è‰²æ—¶ï¼Œæ–‡æœ¬çš„å‚ç›´å¯¹é½æ¨¡å¼å°†è¢«è®¾ç½®ä¸ºå±…ä¸­ï¼ˆé»˜è®¤ä¸º baselineï¼‰ã€‚</div>
                        </li>
                        <li>
                            <div class="api-arg-title">backgroundPadding</div>
                            <div class="api-arg-type">number</div>
                            <div class="api-arg-desc">èƒŒæ™¯çŸ©å½¢çš„å†…è¾¹è·ï¼ˆpaddingï¼‰ï¼Œé»˜è®¤ä¸º 2ã€‚</div>
                        </li>
                        <li>
                            <div class="api-arg-title">align</div>
                            <div class="api-arg-type">string</div>
                            <div class="api-arg-desc">æ–‡æœ¬å¯¹é½ï¼Œ<code>center</code>ã€<code>left</code>ã€<code>right</code> ä¹‹ä¸€ã€‚é»˜è®¤ä¸º <code>center</code>ã€‚</div>
                        </li>
                        <li>
                            <div class="api-arg-title">opacity</div>
                            <div class="api-arg-type">number</div>
                            <div class="api-arg-desc">é€æ˜åº¦ï¼Œé»˜è®¤å€¼ä¸º 0.5ã€‚</div>
                        </li>
                    </ul></p>
</td>
</tr></tbody></table>

<h3 id="è¿”å›å€¼-4"><a href="#è¿”å›å€¼-4" class="headerlink" title="è¿”å›å€¼"></a>è¿”å›å€¼</h3><p><code>MapVisual</code> å¯¹è±¡æœ¬èº«ï¼Œä»¥ä¾¿è¿›è¡Œé“¾å¼è°ƒç”¨ã€‚</p>
<h2 id="Game.map-visual.clear" class="api-property api-property--method  "><span class="api-property__name">clear</span><span class="api-property__args">()</span>
        <div class="api-property__cpu api-property__cpu--0" title="è¯¥æ–¹æ³•çš„CPUå¼€é”€å¾ˆå°ã€‚"></div>
        </h2>
<pre class="highlight javascript tab-javascript "><code>Game<span class="token punctuation">.</span>map<span class="token punctuation">.</span>visual<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>ç§»é™¤è¯¥æˆ¿é—´çš„æ‰€æœ‰å¯è§†åŒ–æ•ˆæœã€‚</p>
<h3 id="è¿”å›å€¼-5"><a href="#è¿”å›å€¼-5" class="headerlink" title="è¿”å›å€¼"></a>è¿”å›å€¼</h3><p><code>MapVisual</code> å¯¹è±¡æœ¬èº«ï¼Œä»¥ä¾¿è¿›è¡Œé“¾å¼è°ƒç”¨ã€‚</p>
<h2 id="Game.map-visual.getSize" class="api-property api-property--method  "><span class="api-property__name">getSize</span><span class="api-property__args">()</span>
        <div class="api-property__cpu api-property__cpu--0" title="è¯¥æ–¹æ³•çš„CPUå¼€é”€å¾ˆå°ã€‚"></div>
        </h2>
<pre class="highlight javascript tab-javascript "><code><span class="token keyword">if</span><span class="token punctuation">(</span>Game<span class="token punctuation">.</span>map<span class="token punctuation">.</span>visual<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token number">1024000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// æœ¬ tick æ— æ³•æ·»åŠ æ›´å¤šçš„å¯è§†åŒ–æ•ˆæœ</span>
<span class="token punctuation">}</span></code></pre><p>è·å–æœ¬ tick æ‰€æœ‰å¯è§†åŒ–æ•ˆæœçš„å­˜å‚¨å¤§å°ã€‚æœ€å¤šä¸èƒ½è¶…è¿‡ 1024,000ï¼ˆ1000 KBï¼‰ã€‚</p>
<h3 id="è¿”å›å€¼-6"><a href="#è¿”å›å€¼-6" class="headerlink" title="è¿”å›å€¼"></a>è¿”å›å€¼</h3><p>å¯è§†åŒ–æ•ˆæœçš„å¤§å°ï¼ˆå•ä½ï¼šå­—èŠ‚ï¼‰ã€‚</p>
<h2 id="Game.map-visual.export" class="api-property api-property--method  "><span class="api-property__name">export</span><span class="api-property__args">()</span>
        <div class="api-property__cpu api-property__cpu--0" title="è¯¥æ–¹æ³•çš„CPUå¼€é”€å¾ˆå°ã€‚"></div>
        </h2>
<pre class="highlight javascript tab-javascript "><code>Memory<span class="token punctuation">.</span>MapVisualData <span class="token operator">=</span> Game<span class="token punctuation">.</span>map<span class="token punctuation">.</span>visual<span class="token punctuation">.</span><span class="token function">export</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>è¿”å›å½“å‰ tick ä¸­æ·»åŠ åˆ°åœ°å›¾ä¸­çš„æ‰€æœ‰å¯è§†åŒ–æ•ˆæœçš„ç´§å‡‘æ ¼å¼ã€‚</p>
<h3 id="è¿”å›å€¼-7"><a href="#è¿”å›å€¼-7" class="headerlink" title="è¿”å›å€¼"></a>è¿”å›å€¼</h3><p>ä»£è¡¨äº†å¯è§†åŒ–æ•°æ®çš„å­—ç¬¦ä¸²ã€‚é™¤äº†å°†å…¶å­˜å‚¨ä»¥å¤‡åç»­ä½¿ç”¨å¤–ï¼Œæ‚¨ä¸åº”è¯¥å¯¹å…¶è¿›è¡Œå…¶ä»–æ“ä½œã€‚</p>
<h2 id="Game.map-visual.import" class="api-property api-property--method  "><span class="api-property__name">import</span><span class="api-property__args">(val)</span>
        <div class="api-property__cpu api-property__cpu--0" title="è¯¥æ–¹æ³•çš„CPUå¼€é”€å¾ˆå°ã€‚"></div>
        </h2>
<pre class="highlight javascript tab-javascript "><code>Game<span class="token punctuation">.</span>map<span class="token punctuation">.</span>visual<span class="token punctuation">.</span><span class="token function">import</span><span class="token punctuation">(</span>Memory<span class="token punctuation">.</span>MapVisualData<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>å°†å…ˆå‰å¯¼å‡ºï¼ˆä½¿ç”¨<a href="#Game.map-visual.export">Game.map.visual.export</a>ï¼‰çš„åœ°å›¾å¯è§†åŒ–æ•ˆæœæ·»åŠ åˆ°å½“å‰ tickã€‚ </p>
<table><thead><tr><th>parameter</th><th>type</th><th>description</th></tr></thead><tbody>
<tr><td><code>val</code></td><td>string</td><td><p>ä» Game.map.visual.export è¿”å›çš„å­—ç¬¦ä¸²ã€‚</p>
</td>
</tr></tbody></table>

<h3 id="è¿”å›å€¼-8"><a href="#è¿”å›å€¼-8" class="headerlink" title="è¿”å›å€¼"></a>è¿”å›å€¼</h3><p><code>MapVisual</code> å¯¹è±¡æœ¬èº«ï¼Œä»¥ä¾¿è¿›è¡Œé“¾å¼è°ƒç”¨ã€‚</p>
